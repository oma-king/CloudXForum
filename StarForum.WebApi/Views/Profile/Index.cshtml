@model StarForum.WebApi.Models.ApplicationUser.ProfileListModel
@{
    ViewData["Title"] = "Users";
}

<div class="container body-content">
    <div class="row sectionHeader">
        <div class="sectionHeading">Users</div>
    </div>
    <div class="row" id="forumIndexContent">
        <table class="table table-hover" id="userIndexTable">
            <thead>
            <tr>
                <th>
                    Изображение
                </th>
                <th>
                    <a asp-controller="Profile" asp-action="Index" asp-route-typeQuery="userName" asp-route-oldTypeQuery="@Model.OldTypeQuery" class="linkDecorationNone">
                        Имя
                        @if (Model.TypeQuery == "userName" && Model.OldTypeQuery == Model.TypeQuery)
                        {
                            <i class="material-icons">arrow_drop_down</i>
                        }
                        else if (Model.TypeQuery == "userName")
                        {
                            <i class="material-icons">arrow_drop_up</i>
                        }
                    </a>
                </th>
                <th>
                    <a asp-controller="Profile" asp-action="Index" asp-route-typeQuery="email" asp-route-oldTypeQuery="@Model.OldTypeQuery" class="linkDecorationNone">
                        E-mail
                        @if (Model.TypeQuery == "email" && Model.OldTypeQuery == Model.TypeQuery)
                        {
                            <i class="material-icons">arrow_drop_down</i>
                        }
                        else if (Model.TypeQuery == "email")
                        {
                            <i class="material-icons">arrow_drop_up</i>
                        }
                    </a>
                </th>
                <th>
                    <a asp-controller="Profile" asp-action="Index" asp-route-typeQuery="memberSince" asp-route-oldTypeQuery="@Model.OldTypeQuery" class="linkDecorationNone">
                            Registration date
                        @if (Model.TypeQuery == "memberSince" && Model.OldTypeQuery == Model.TypeQuery)
                        {
                            <i class="material-icons">arrow_drop_down</i>
                        }
                        else if (Model.TypeQuery == "memberSince")
                        {
                            <i class="material-icons">arrow_drop_up</i>
                        }
                    </a>
                </th>
                <th>
                    <a asp-controller="Profile" asp-action="Index" asp-route-typeQuery="" asp-route-oldTypeQuery="@Model.OldTypeQuery" class="linkDecorationNone">
                            Rating
                        @if (Model.TypeQuery == "rating" && Model.OldTypeQuery == Model.TypeQuery)
                        {
                            <i class="material-icons">arrow_drop_down</i>
                        }
                        else if (Model.TypeQuery == "rating")
                        {
                            <i class="material-icons">arrow_drop_up</i>
                        }
                    </a>
                </th>
            </tr>
            </thead>
            <tbody>
            @foreach (var profile in Model.Profiles)
            {
                <tr class="userRow">
                    <td>
                        <div class="userProfilePic" style="background-image: url(@profile.ProfileImageUrl)"></div>
                    </td>
                    <td>
                        <a asp-controller="Profile" asp-action="Detail" asp-route-id="@profile.UserId">
                            @profile.Username
                        </a>
                    </td>
                    <td>
                        @profile.Email
                    </td>
                    <td>
                        @profile.MemberSince
                    </td>
                    <td>
                        @profile.UserRating
                    </td>
                </tr>
            }
            </tbody>
        </table>
    </div>
</div>